{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$permission","defaultOnAuthorizedMethod","defaultOnUnauthorizedMethod","suppressUndefinedPermissionWarning","this","setDefaultOnAuthorizedMethod","onAuthorizedMethod","setDefaultOnUnauthorizedMethod","onUnauthorizedMethod","value","$get","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","resolve","reason","reject","PermTransitionEvents","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermPermission","$injector","PermTransitionProperties","Permission","permissionName","validationFunction","validateConstructor","annotateValidationFunction","wrapInPromise","result","isString","TypeError","isFunction","$inject","prototype","validatePermission","transitionProperties","validationLocals","validationResult","invoke","PermRole","PermPermissionStore","Role","roleName","length","preparePermissionEvaluation","permissions","options","map","hasPermissionDefinition","permission","getPermissionDefinition","all","validateRole","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","PermRoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","PermPermissionMap","PermPermissionStrategies","restrict","bindToController","sref","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","isSrefStateDefined","has","onAuthorizedAccess","onAuthorizedMethodName","onUnauthorizedAccess","onUnauthorizedMethodName","$watchGroup","authorizeBy","PermStateAuthorization","get","authorizeByStateName","$eval","PermAuthorization","permissionMap","authorizeByPermissionMap","e","error","message","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMap","normalizeOnlyAndExceptProperty","redirectTo","normalizeRedirectToProperty","resolveRedirectState","redirectFunction","rejectedPermissionName","redirectState","state","property","call","isInjectable","normalizeFunctionRedirectionRule","isObjectSingleRedirectionRule","normalizeObjectSingleRedirectionRule","normalizeObjectMultipleRedirectionRule","normalizeStringRedirectionRule","ReferenceError","redirectionMap","redirection","privilegeName","role","warn","module","exports","name","provider","decorator","enableElement","removeAttr","disableElement","attr","showElement","removeClass","hideElement","addClass","service","factory","directive"],"mappings":"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","file":"angular-permission.min.js"}